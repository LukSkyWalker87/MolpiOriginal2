<!DOCTYPE html>
<html>
	
<!-- Piscinas Dinámico - Molpi -->
<head>

		<!-- Basic -->
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">	

		<title> Molpi | Moldes inyectados autoestibables para mosaicos de piscina</title>	

		<meta name="keywords" content="Moldes inyectados para mosaicos, Moldes de plastico para mosaicos, Moldes para baldozas, revestimientos, molduras, mosaicos rusticos, mosaico de adoquines, simil piedra, inyeccion de moldes, moldes, molde, mosaicos, mosaico, moldes autoapilables, moldes autoestibables, mosaicos podotactiles, mosaicos para jardin" />
		<meta name="description" content="Moldes Autoestibables para la fabricación de mosaicos. Moldes inyectados en plástico de alta Resistencia y Durabilidad">
		<meta name="author" content="molpi.com.ar">

		<!-- Favicon -->
		<link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon" />
		<link rel="apple-touch-icon" href="img/apple-touch-icon.png">

		<!-- Mobile Metas -->
		<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<!-- Web Fonts  -->
		<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800%7CShadows+Into+Light" rel="stylesheet" type="text/css">

		<!-- Vendor CSS -->
		<link rel="stylesheet" href="vendor/bootstrap/css/bootstrap.min.css">
		<link rel="stylesheet" href="vendor/font-awesome/css/font-awesome.min.css">
		<link rel="stylesheet" href="vendor/animate/animate.min.css">
		<link rel="stylesheet" href="vendor/simple-line-icons/css/simple-line-icons.min.css">
		<link rel="stylesheet" href="vendor/owl.carousel/assets/owl.carousel.min.css">
		<link rel="stylesheet" href="vendor/owl.carousel/assets/owl.theme.default.min.css">
		<link rel="stylesheet" href="vendor/magnific-popup/magnific-popup.min.css">

		<!-- Theme CSS -->
		<link rel="stylesheet" href="css/general.css">
		<link rel="stylesheet" href="css/elementos-generales.css">
		<link rel="stylesheet" href="vendor/rs-plugin/css/layers.css">
		

		<!-- Current Page CSS -->
		<link rel="stylesheet" href="vendor/rs-plugin/css/settings.css">
		<link rel="stylesheet" href="css/particular_productos.css">
		
		<!-- Skin CSS -->
		<link rel="stylesheet" href="css/default.css">

		<!-- Theme Custom CSS -->
		<link rel="stylesheet" href="css/custom.css">

		<!-- CSS para animaciones dinámicas -->
		<style>
			/* Ocultar elementos que tendrán animación hasta que aparezcan */
			[data-appear-animation]:not(.appear-animation-visible) {
				opacity: 0;
			}
			
			/* Mostrar elementos cuando tienen la clase de visible */
			[data-appear-animation].appear-animation-visible {
				opacity: 1;
			}
			
			/* Asegurar que las animaciones funcionen */
			.animated {
				animation-duration: 1s;
				animation-fill-mode: both;
			}
		</style>

		<!-- Head Libs -->
		<script src="vendor/modernizr/modernizr.min.js"></script>

	</head>
	<body>

		<div class="body">
			<header id="header" class="header-mobile-nav-only" data-plugin-options="{'stickyEnabled': true, 'stickyEnableOnBoxed': true, 'stickyEnableOnMobile': true, 'stickyStartAt': 90, 'stickySetTop': '-90px', 'stickyChangeLogo': true}">
				<div class="header-body">
					<div class="header-top header-top-colored header-top-primary">
						<div class="container">
							<p>
								<span class="ml-xs"><i class="fa fa-phone"></i> 11-3556-8417</span><span class="hidden-xs"> | <a href="mailto:info@molpi.com.ar">info@molpi.com.ar</a></span>
							</p>
						</div>
					</div>
					<div class="header-container container">
						<div class="header-row">
							<div class="header-column">
								<div class="header-logo">
									<a href="index.html">
										<img alt="Molpi" width="156" height="182" data-sticky-width="124" data-sticky-height="145" data-sticky-top="47" src="img/logo.png">
									</a>
								</div>
							</div>
							<div class="header-column">
								<div class="header-row">
									<div class="header-nav header-nav-stripe">
										<button class="btn header-btn-collapse-nav" data-toggle="collapse" data-target=".header-nav-main">
											<i class="fa fa-bars"></i>
										</button>
										<div class="header-nav-main header-nav-main-square header-nav-main-effect-1 header-nav-main-sub-effect-1 collapse">
											<nav>
												<ul class="nav nav-pills" id="mainNav">
													<li class="">
														<a href="quienes_somos.html">
															Quiénes somos?
														</a>
													</li>
													<li class="dropdown active">
														<a class="dropdown-toggle" href="#">Productos</a>
														<ul class="dropdown-menu">
															<li class="dropdown-submenu"><a href="#">Pisos y Zócalos</a>
															    <ul class="dropdown-menu">
															         <li class""><a href="linea_moldes_para_pisos_20x20.html">Línea 20x20</a>
															         </li>
															         <li class""><a href="linea_moldes_para_pisos_40x40.html">Línea 40x40</a>
															         </li>
															         <li class""><a href="linea_moldes_para_pisos_50x50.html">Línea 50x50</a>
															         </li>
                                                                </ul>
															</li>
															<li>
																<a href="podotactiles.html">
																	Podotáctiles - Discapacidad
																</a>
															</li>
															<li>
																<a href="green.html">
																	Green
																</a>
															</li>
															<li>
																<a href="piscinas.html">
																	Piscinas
																</a>
															</li>
															<li>
																<a href="revestimientos.html">
																	Revestimientos
																</a>
															</li>
															<li>
																<a href="placas-antihumedad.html">
																	Placas Antihumedad
																</a>
															</li>
															<li>
																<a href="insumos.html">
																	Insumos
																</a>
															</li>
														</ul>
													</li>
													<li class="">
														<a href="contacto.html">
															Contáctenos
														</a>
													</li>
													<li>
														<a href="#loginModal" data-toggle="modal" class="login-button">
														  LOGIN
														</a>
													  </li>	
												</ul>
											</nav>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</header>

			<div role="main" class="main">

				<div class="portada-piscinas-full">
					<img src="img/products/portada-piscinas.png" alt="portada-piscinas" />
				</div>
				
				<div class="container">

					<div class="row">
						<div class="col-md-12">
							<h2 class="mb-xl mt-xlg"><strong>Piscinas</strong> - Bordes, esquineros, escalones, deck y rejillas.</h2>
						</div>
						    
						<div class="col-md-12">
							<p>Una gran variedad para que puedas elegir el diseño que mejor combine con el deck y revestimiento de tu pileta.<br>
							Desde el borde ballena que se caracteriza por evitar el reingreso de agua y otros cuerpos hacia la pileta, hasta las rejillas para que pueda desagotarse el agua del solarium, sin olvidar los escalones antideslizantes que aseguran un acceso seguro a la piscina.    <br><br> 
                                     

                         <a href="pdf/catalogo_general.pdf" target="blank" class="btn btn-primary custom-btn-style-1 text-uppercase font-weight-semibold pull-right mt-sm">catálogo general</a>
							</p>
                        </div>
                    </div>
                </div>

				<!-- Loading Message -->
				<div class="container">
					<div id="loading-message" class="text-center">
						<div class="row">
							<div class="col-md-12">
								<h3><i class="fa fa-spinner fa-spin"></i> Cargando productos de piscinas...</h3>
							</div>
						</div>
					</div>
					
					<!-- Error Message -->
					<div id="error-message" class="text-center" style="display: none;">
						<div class="row">
							<div class="col-md-12">
								<h3 class="text-danger"><i class="fa fa-exclamation-triangle"></i> Error al cargar los productos</h3>
								<p>No se pudieron cargar los productos de piscinas. Por favor, intente nuevamente.</p>
								<button class="btn btn-primary" onclick="cargarProductosPiscinas()">
									<i class="fa fa-refresh"></i> Reintentar
								</button>
							</div>
						</div>
					</div>
				</div>

				<!-- Products Container - Mantendrá el diseño original -->
                <div class="container">
					<div id="productos-container">
						<!-- El contenido se cargará dinámicamente aquí -->
					</div>
                </div>
				
			</div>

			<footer class="short" id="footer">
				<div class="container">
					<div class="row">
						<div class="col-md-6">
							<h5 class="mb-sm">Llámenos</h5>
							<span class="phone">11-3556-8417</span>
							<p class="mb-none">Oficinas y Planta de producción:<br>
							Cafferata 3210 (1852) - Burzaco. <br>
							Parque Industrial de Almirante Brown<br/>
							Provincia de Buenos Aires. Argentina.<br/>
							</p>
							<ul class="list list-icons list-icons-sm">
								<li><i class="fa fa-envelope"></i> <a href="mailto:info@molpi.com.ar">info@molpi.com.ar</a></li>
							</ul>
							<ul class="social-icons">
								<li class="social-icons-facebook"><a href="../www.facebook.com/Molpi-171678872861954/index.html" target="_blank" title="Facebook"><i class="fa fa-facebook"></i></a></li>
								<li class="social-icons-instagram"><a href="../www.instagram.com/molpi.moldes/index.html" target="_blank" title="Instagram"><i class="fa fa-instagram"></i></a></li>
							</ul>
						</div>
						<div class="col-md-6">
							<h5 class="mb-sm">Contáctenos</h5>
							<p>Contáctenos o llámenos para descubrir cómo podemos ayudarle.</p>
							<form id="contact" action="https://www.molpi.com.ar/contacto_rapido.php" method="post">
								<div class="row">
									<div class="form-group">
										<div class="col-md-6">
											<label>Nombre *</label>
										    <input type="text" value="" data-msg-required="Por favor ingrese su nombre." maxlength="100" class="form-control" name="nombre" id="Nombre" tabindex="1" required>
										</div>
										<div class="col-md-6">
											<label>E-mail *</label>
                                            <input type="email" value="" data-msg-required="Por favor, escriba su dirección de mail." data-msg-email="Por favor, ingrese una dirección de e-mail válida." maxlength="100" class="form-control" name="email" id="Email" tabindex="2" required>
										</div>
									</div>
								</div>
								<div class="row">
									<div class="form-group">
										<div class="col-md-12">
											<label>Mensaje *</label>
											<textarea maxlength="5000" data-msg-required="Por favor no olvide dejarnos su mensaje." rows="2" class="form-control" name="mensaje" id="Mensaje" tabindex="3" required></textarea>
										</div>
									</div>
								</div>
								<div class="row">
									<div class="form-group">
										<div class="col-md-12">
											<input type="submit" value="ENVIAR MENSAJE" class="btn btn-primary btn-lg pull-right" data-loading-text="Loading...">
										</div>
									</div>
								</div>
							</form>
						</div>
					</div>
				</div>
				<div class="footer-copyright">
					<div class="container">
						<div class="row">
							<div class="col-md-12">
								<p>© Copyright 2025. All Rights Reserved.</p>
							</div>
						</div>
					</div>
				</div>
			</footer>
		</div>

		<!-- Vendor -->
		<script src="vendor/jquery/jquery.min.js"></script>
		<script src="vendor/jquery.appear/jquery.appear.min.js"></script>
		<script src="vendor/jquery.easing/jquery.easing.min.js"></script>
		<script src="vendor/jquery.cookie/jquery.cookie.min.js"></script>
		<script src="vendor/bootstrap/js/bootstrap.min.js"></script>
		<script src="vendor/common/common.min.js"></script>
		<script src="vendor/jquery.validation/jquery.validation.min.js"></script>
		<script src="vendor/jquery.easy-pie-chart/jquery.easy-pie-chart.min.js"></script>
		<script src="vendor/jquery.gmap/jquery.gmap.min.js"></script>
		<script src="vendor/jquery.lazyload/jquery.lazyload.min.js"></script>
		<script src="vendor/isotope/jquery.isotope.min.js"></script>
		<script src="vendor/owl.carousel/owl.carousel.min.js"></script>
		<script src="vendor/magnific-popup/magnific-popup.min.js"></script>
		<script src="vendor/vide/vide.min.js"></script>
		
		<!-- Theme Base, Components and Settings -->
		<script src="js/theme.js"></script>
		
		<!-- Current Page Vendor and Views -->
		<script src="vendor/rs-plugin/js/jquery.themepunch.tools.min.js"></script>
		<script src="vendor/rs-plugin/js/jquery.themepunch.revolution.min.js"></script>
		
		<!-- Theme Custom -->
		<script src="js/custom.js"></script>
		
		<!-- Theme Initialization Files -->
		<script src="js/theme.init.js"></script>

		<script>
			async function cargarProductosPiscinas() {
				try {
					console.log('Iniciando carga de productos de piscinas...');
					
					// Mostrar loading y ocultar error
					document.getElementById('loading-message').style.display = 'block';
					document.getElementById('error-message').style.display = 'none';
					
					const response = await fetch('/productos/piscinas');
					
					if (!response.ok) {
						throw new Error('Error en la respuesta del servidor');
					}
					
					const productosPorSubcategoria = await response.json();
					console.log('Productos cargados:', productosPorSubcategoria);
					
					// Ocultar loading
					document.getElementById('loading-message').style.display = 'none';

					// Verificar si hay datos
					if (!productosPorSubcategoria || Object.keys(productosPorSubcategoria).length === 0) {
						document.getElementById('error-message').style.display = 'block';
						return;
					}

					// Generar HTML para los productos manteniendo el diseño original
					mostrarProductosOriginal(productosPorSubcategoria);

				} catch (error) {
					console.error('Error al cargar productos:', error);
					document.getElementById('loading-message').style.display = 'none';
					document.getElementById('error-message').style.display = 'block';
				}
			}

			function mostrarProductosOriginal(productosPorSubcategoria) {
				const container = document.getElementById('productos-container');
				
				// Crear un mapa de productos por nombre para facilitar el acceso
				const productosPorNombre = {};
				Object.keys(productosPorSubcategoria).forEach(subcategoria => {
					productosPorSubcategoria[subcategoria].forEach(producto => {
						productosPorNombre[producto.nombre] = producto;
					});
				});

				// Función auxiliar para buscar producto
				function buscarProducto(nombre) {
					return productosPorNombre[nombre] || null;
				}

				// Función auxiliar para crear estructura de producto exacta como en el estático
				function crearProducto(producto, esColumnaIzquierda, delayImagen1, delayImagen2, botonPlano = null) {
					const tieneMosaico = producto.imagen_mosaico_url && 
						producto.imagen_mosaico_url.trim() !== '' && 
						!producto.imagen_mosaico_url.includes('.html'); // Excluir URLs incorrectas con .html
					
					// Formatear descripción como en el estático
					let descripcionFormateada = '';
					if (producto.descripcion) {
						if (producto.descripcion.includes('piezas por molde') || producto.descripcion.includes('piezas de') || 
							producto.descripcion.includes('Modelo disponible') || producto.descripcion.includes('metros de diámetro')) {
							descripcionFormateada = `<small> / ${producto.descripcion}.</small>`;
						}
					}
					
					// Botón de plano si existe
					let botonHTML = '';
					if (botonPlano) {
						botonHTML = `<a href="${botonPlano.url}" target="blank" class="btn btn-primary custom-btn-style-1 text-uppercase font-weight-semibold pull mt1-sm">${botonPlano.texto}</a>`;
					}
					
					return `
						<div class="col-md-6">
							<div class="col-md-12">
								<h4 class="mb-xl mt-xlg">${producto.nombre}.${descripcionFormateada}</h4>
								<div class="divider divider-primary divider-small mb-xl"> 
									<hr>
								</div>
							</div>
							<img src="${producto.imagen_url}" data-appear-animation="fadeInLeft" data-appear-animation-delay="${delayImagen1}" data-plugin-options="{'accY': 10}" alt class="custom-product-image-pos-1 _relative img-responsive" />
							
							${tieneMosaico ? `
							<img src="${producto.imagen_mosaico_url}" data-appear-animation="fadeInLeft" data-appear-animation-delay="${delayImagen2}" data-plugin-options="{'accY': 10}" alt class="custom-product-image-pos-5 _absolute img-responsive" />
							` : ''}
							
							${botonHTML}
						</div>
					`;
				}

				// Estructura exacta como en el estático - orden específico de productos
				let html = '<div class="col-md-12"><h2><strong> </strong></h2></div>';
				
				// Fila 1: Travertino 50x50x3cm y Borde Recto con Diente
				const travertino50x50 = buscarProducto('Travertino 50x50x3cm');
				const bordeRectoDiente = buscarProducto('Borde Recto con Diente');
				
				if (travertino50x50) {
					html += crearProducto(travertino50x50, true, "0", "200");
				}
				if (bordeRectoDiente) {
					html += crearProducto(bordeRectoDiente, false, "0", "200", {
						url: "pdf/travertino_con_diente.png",
						texto: "descargar plano"
					});
				}
				html += '<div class="col-md-12"><hr></div>';
				
				// Fila 2: Borde Recto 40x50 y Escalón 50x32cm
				const bordeRecto40x50 = buscarProducto('Borde Recto 40x50');
				const escalon50x32 = buscarProducto('Escalón 50x32cm');
				
				if (bordeRecto40x50) {
					html += crearProducto(bordeRecto40x50, true, "0", "200");
				}
				if (escalon50x32) {
					html += crearProducto(escalon50x32, false, "0", "200");
				}
				html += '<div class="col-md-12"><hr></div>';
				
				// Fila 3: Arco Romano y Borde Ballena 40x50x3cm
				const arcoRomano = buscarProducto('Arco Romano');
				const bordeBallena = buscarProducto('Borde Ballena 40x50x3cm');
				
				if (arcoRomano) {
					html += crearProducto(arcoRomano, true, "0", "200", {
						url: "pdf/arco-romano.jpg",
						texto: "descargar plano"
					});
				}
				if (bordeBallena) {
					html += crearProducto(bordeBallena, false, "0", "200");
				}
				html += '<div class="col-md-12"><hr></div>';
				
				// Fila 4: Esquinero 50x50cm y Esquinero Invertido 40x40cm
				const esquinero50x50 = buscarProducto('Esquinero 50x50cm');
				const esquineroInvertido = buscarProducto('Esquinero Invertido 40x40cm');
				
				if (esquinero50x50) {
					html += crearProducto(esquinero50x50, true, "0", "200");
				}
				if (esquineroInvertido) {
					html += crearProducto(esquineroInvertido, false, "0", "200");
				}
				html += '<div class="col-md-12"><hr></div>';
				
				// Fila 5: Rejilla 50x25x4cm y Esquina Rejilla 25x25x4cm
				const rejilla50x25 = buscarProducto('Rejilla 50x25x4cm');
				const esquinaRejilla = buscarProducto('Esquina Rejilla 25x25x4cm');
				
				if (rejilla50x25) {
					html += crearProducto(rejilla50x25, true, "0", "200");
				}
				if (esquinaRejilla) {
					html += crearProducto(esquinaRejilla, false, "0", "200");
				}
				html += '<div class="col-md-12"><hr></div>';
				
				// Fila 6: Deck Antideslizante con Diente y Deck Travertino
				const deckAntideslizante = buscarProducto('Deck Antideslizante con Diente');
				const deckTravertino = buscarProducto('Deck Travertino');
				
				if (deckAntideslizante) {
					html += crearProducto(deckAntideslizante, true, "0", "200", {
						url: "pdf/deck_madera_con_diente.png",
						texto: "descargar plano"
					});
				}
				if (deckTravertino) {
					html += crearProducto(deckTravertino, false, "0", "200");
				}
				html += '<div class="col-md-12"><hr></div>';
				
				// Fila 7: Travertino Piscina 40x40x2,2cm (solo un producto)
				const travertino40x40 = buscarProducto('Travertino Piscina 40x40x2,2cm');
				
				if (travertino40x40) {
					html += crearProducto(travertino40x40, true, "200", "400");
				}

				container.innerHTML = html;
				
				// Reinicializar animaciones usando el método exacto del tema
				setTimeout(function() {
					console.log('Reinicializando animaciones...');
					
					// Método 1: Usar el inicializador del tema
					if (window.theme && window.theme.PluginAppear && window.theme.PluginAppear.initialize) {
						window.theme.PluginAppear.initialize();
					}
					
					// Método 2: Inicializar manualmente cada elemento
					$('[data-appear-animation]').each(function() {
						var $this = $(this);
						if (typeof $this.appear === 'function') {
							$this.appear(function() {
								var delay = $this.attr('data-appear-animation-delay') ? parseInt($this.attr('data-appear-animation-delay'), 10) : 0;
								setTimeout(function() {
									if($this.hasClass('appear-animation-visible')) return;
									$this.addClass('appear-animation-visible');
									
									var animationClass = $this.attr('data-appear-animation');
									if(animationClass) {
										$this.addClass('animated ' + animationClass);
									}
								}, delay);
							}, {accY: -50});
						}
					});
					
					// Forzar detección de elementos visibles
					$(window).trigger('scroll.appear');
					
				}, 300);
			}

			// Cargar productos cuando se carga la página
			document.addEventListener('DOMContentLoaded', function() {
				// Asegurar que jQuery y los plugins estén cargados
				if (typeof $ === 'undefined') {
					console.error('jQuery no está cargado');
					return;
				}
				
				// Esperar un poco más para que todos los scripts se carguen
				setTimeout(function() {
					cargarProductosPiscinas();
				}, 500);
			});
		</script>

		<!-- LOGIN MODAL -->
		<div class="modal fade" id="loginModal" tabindex="-1" role="dialog" aria-labelledby="loginModalLabel">
			<div class="modal-dialog" role="document">
			  <div class="modal-content">
				<form method="POST" action="/login">
				  <div class="modal-header">
					<h4 class="modal-title" id="loginModalLabel">Login de Administrador</h4>
					<button type="button" class="close" data-dismiss="modal" aria-label="Cerrar">
					  <span aria-hidden="true">&times;</span>
					</button>
				  </div>
				  <div class="modal-body">
					<div class="form-group">
					  <label for="username">Usuario</label>
					  <input type="text" class="form-control" name="username" required placeholder="Ingresá tu usuario">
					</div>
					<div class="form-group">
					  <label for="password">Contraseña</label>
					  <input type="password" class="form-control" name="password" required placeholder="Ingresá tu contraseña">
					</div>
				  </div>
				  <div class="modal-footer">
					<button type="submit" class="btn btn-primary">Ingresar</button>
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
				  </div>
				</form>
			  </div>
			</div>
		</div>
		<!-- END LOGIN MODAL -->  

		<!-- Botón flotante de WhatsApp -->
		<a href="https://wa.me/541135568417?text=¡Hola!%20¿Todo%20bien%3F%20Te%20quería%20hacer%20una%20consulta%20sobre%20piscinas" 
		   class="whatsapp-float" 
		   target="_blank" 
		   title="Chatear por WhatsApp con Molpi">
		  <img src="https://icongr.am/fontawesome/whatsapp.svg?size=40&color=ffffff" alt="WhatsApp">
		</a>

	</body>
</html>
