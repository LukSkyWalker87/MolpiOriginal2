<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>Panel de Administraci√≥n | Molpi</title>
  <link rel="icon" href="img/favicon.ico" type="image/x-icon">


  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="css/general.css">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700&display=swap" rel="stylesheet">

  <style>
    body {
      font-family: 'Open Sans', sans-serif;
      margin: 0;
      display: flex;
    }

    .sidebar {
      width: 280px;
      height: 100vh;
      background-color: #0e2133;
      color: white;
      position: fixed;
      left: 0;
      top: 0;
      padding: 30px 20px;
      box-shadow: 2px 0 10px rgba(0,0,0,0.3);
      display: flex;
      flex-direction: column;
    }

    .sidebar h2 {
      font-size: 1.8em;
      text-align: center;
      margin-bottom: 30px;
      font-weight: bold;
    }

    .sidebar-content {
      flex-grow: 1;
      overflow-y: auto;
    }

    .sidebar a {
      display: block;
      padding: 12px 20px;
      margin-bottom: 8px;
      text-decoration: none;
      color: white;
      font-size: 16px;
      border-radius: 5px;
      transition: background 0.3s ease;
    }

    .sidebar a:hover {
      background-color: #294663;
    }

    .sidebar a.active {
      background-color: #e74c3c;
      font-weight: bold;
    }

    .sidebar a.exit-button {
      margin-top: auto;
      background-color: #32495f;
      text-align: center;
      font-weight: bold;
      border: 1px solid rgba(255,255,255,0.2);
    }

    .sidebar a.exit-button:hover {
      background-color: #e74c3c;
    }

    .main-content {
      margin-left: 280px;
      padding: 40px;
      width: 100%;
      background-color: #f8f9fa;
    }
  </style>
</head>

<body>
  <div class="sidebar" id="adminSidebar">
    <div class="d-flex align-items-center justify-content-center mb-3">
      <img src="img/logo.png" alt="Molpi" style="height: 40px; margin-right: 10px;">
      <h2 class="mb-0">MOLPI</h2>
    </div>
    <h2>Panel de Administraci√≥n</h2>
    <a href="#" data-section="dashboard" class="active">üè† Dashboard</a>
    <a href="#" data-section="productos">üì¶ Productos</a>
    <a href="#" data-section="galeria">üñºÔ∏è Galer√≠a de Im√°genes</a>
    <a href="#" data-section="nosotros">üè¢ Nosotros</a>
    <a href="#" data-section="contacto">üìç Contacto</a>
    <a href="#" data-section="clientes">ü§ù Clientes / Logos</a>
    <!--<a href="#" data-section="seo">üîç SEO y Metadatos</a>-->
    <a href="#" data-section="usuarios">üë• Usuarios del Panel</a>
    <a href="#" data-section="config">‚öôÔ∏è Configuraciones Generales</a>
      <!-- Bot√≥n de salir -->
  <a href="index.html" class="exit-button">üö™ SALIR</a>
  </div>



  <div class="main-content" id="adminContent">
    <h1 class="text-danger">Panel de Administraci√≥n de Molpi</h1>
    <p class="text-muted">Desde aqu√≠ pod√©s editar contenido del sitio.</p>
  </div>
  
  
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const sidebarLinks = document.querySelectorAll("#adminSidebar a[data-section]");
      const contentArea = document.getElementById("adminContent");
sidebarLinks.forEach((link) => {
  link.addEventListener("click", async function (e) {
    e.preventDefault();
    const section = this.getAttribute("data-section");

    sidebarLinks.forEach(l => l.classList.remove("active"));
    this.classList.add("active");

    try {
      if (section === "productos") {
        contentArea.innerHTML = getProductosHTML();
        initProductosScript();
      } else if (section === "dashboard") {
        contentArea.innerHTML = getDashboardHTML();
      } else if (section === "galeria") {
        contentArea.innerHTML = getGaleriaHTML();
      } else if (section === "nosotros") {
        contentArea.innerHTML = getNosotrosHTML();
      } else if (section === "contacto") {
        contentArea.innerHTML = getContactoHTML();
      } else if (section === "clientes") {
        contentArea.innerHTML = getClientesHTML();
      } else if (section === "usuarios") {
        contentArea.innerHTML = getUsuariosHTML();
      } else if (section === "config") {
        contentArea.innerHTML = getConfigHTML();
      } else {
        // Secci√≥n desconocida
        contentArea.innerHTML = `
          <div class="alert alert-warning">
            <h3>Secci√≥n en desarrollo</h3>
            <p>La secci√≥n "${section}" est√° actualmente en desarrollo.</p>
          </div>
        `;
      }
    } catch (error) {
      console.error("Error al cargar la secci√≥n:", error);
      contentArea.innerHTML = `
        <div class="alert alert-danger">
          <h3>Error al cargar la secci√≥n</h3>
          <p>No se pudo cargar la secci√≥n "${section}". Por favor intente nuevamente.</p>
        </div>
      `;
    }
  });
});
// Agregar estas funciones para cada secci√≥n
function getDashboardHTML() {
  return `
    <h1 class="mb-4">Dashboard</h1>
    <div class="row">
      <div class="col-md-4 mb-4">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">Productos</h5>
            <p class="card-text">Total: 42 productos</p>
            <a href="#" class="btn btn-primary btn-sm" data-section="productos">Ver productos</a>
          </div>
        </div>
      </div>
      <div class="col-md-4 mb-4">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">Clientes</h5>
            <p class="card-text">Total: 15 logos de clientes</p>
            <a href="#" class="btn btn-primary btn-sm" data-section="clientes">Ver clientes</a>
          </div>
        </div>
      </div>
      <div class="col-md-4 mb-4">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">Galer√≠a</h5>
            <p class="card-text">Total: 28 im√°genes</p>
            <a href="#" class="btn btn-primary btn-sm" data-section="galeria">Ver galer√≠a</a>
          </div>
        </div>
      </div>
    </div>
    <div class="card mt-4">
      <div class="card-body">
        <h5 class="card-title">Actividad reciente</h5>
        <ul class="list-group">
          <li class="list-group-item d-flex justify-content-between align-items-center">
            Producto actualizado: Baldosa 40x40
            <span class="badge badge-primary badge-pill">Hace 2 d√≠as</span>
          </li>
          <li class="list-group-item d-flex justify-content-between align-items-center">
            Nueva imagen en galer√≠a
            <span class="badge badge-primary badge-pill">Hace 5 d√≠as</span>
          </li>
          <li class="list-group-item d-flex justify-content-between align-items-center">
            Informaci√≥n de contacto actualizada
            <span class="badge badge-primary badge-pill">Hace 1 semana</span>
          </li>
        </ul>
      </div>
    </div>
  `;
}

function getGaleriaHTML() {
  return `
    <h1 class="mb-4">Galer√≠a de Im√°genes</h1>
    <p class="text-muted">Administr√° las im√°genes de la galer√≠a del sitio.</p>
    
    <form class="mb-4">
      <div class="form-group">
        <label for="nuevaImagen">Agregar nueva imagen</label>
        <input type="file" class="form-control-file" id="nuevaImagen" accept="image/*">
      </div>
      <div class="form-group">
        <label for="tituloImagen">T√≠tulo/descripci√≥n</label>
        <input type="text" class="form-control" id="tituloImagen" placeholder="Ingrese un t√≠tulo para la imagen">
      </div>
      <button type="submit" class="btn btn-success">Agregar imagen</button>
    </form>
    
    <h3>Im√°genes existentes</h3>
    <div class="alert alert-info">Arrastre y suelte para reordenar las im√°genes.</div>
    
    <div class="row" id="galeriaExistente">
      <div class="col-md-3 mb-3">
        <div class="card">
          <img src="img/destacado_green.png" class="card-img-top" alt="Imagen">
          <div class="card-body">
            <p class="card-text">Imagen ejemplo</p>
            <div class="d-flex justify-content-between">
              <button class="btn btn-sm btn-danger">Eliminar</button>
              <button class="btn btn-sm btn-info">Editar</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  `;
}

function getNosotrosHTML() {
  return `
    <h1 class="mb-4">Administrar secci√≥n 'Nosotros'</h1>
    <p class="text-muted">Edite la informaci√≥n de la empresa.</p>
    
    <form>
      <div class="form-group">
        <label for="nosotrosTitulo">T√≠tulo principal</label>
        <input type="text" class="form-control" id="nosotrosTitulo" value="Sobre Molpi">
      </div>
      <div class="form-group">
        <label for="nosotrosDescripcion">Descripci√≥n</label>
        <textarea class="form-control" id="nosotrosDescripcion" rows="5">Somos una empresa dedicada a la fabricaci√≥n y comercializaci√≥n de moldes para la industria de la construcci√≥n...</textarea>
      </div>
      <div class="form-group">
        <label for="nosotrosImagen">Imagen principal</label>
        <input type="file" class="form-control-file" id="nosotrosImagen">
        <small class="text-muted">Imagen actual:</small>
        <img src="img/placeholder-image.jpg" alt="Imagen actual" style="max-width: 200px; display: block; margin-top: 10px;">
      </div>
      <button type="submit" class="btn btn-primary">Guardar cambios</button>
    </form>
  `;
}

function getContactoHTML() {
  return `
    <h1 class="mb-4">Administrar informaci√≥n de contacto</h1>
    
    <form>
      <div class="form-group">
        <label for="direccion">Direcci√≥n</label>
        <input type="text" class="form-control" id="direccion" value="Av. Ejemplo 1234, Buenos Aires">
      </div>
      <div class="form-group">
        <label for="telefono">Tel√©fono</label>
        <input type="text" class="form-control" id="telefono" value="11-3556-8417">
      </div>
      <div class="form-group">
        <label for="email">Email</label>
        <input type="email" class="form-control" id="email" value="info@molpi.com.ar">
      </div>
      <div class="form-group">
        <label for="horarios">Horarios de atenci√≥n</label>
        <input type="text" class="form-control" id="horarios" value="Lunes a Viernes de 9 a 18hs">
      </div>
      
      <h3 class="mt-4">Redes sociales</h3>
      <div class="form-group">
        <label for="facebook">Facebook URL</label>
        <input type="url" class="form-control" id="facebook" value="https://facebook.com/molpi">
      </div>
      <div class="form-group">
        <label for="instagram">Instagram URL</label>
        <input type="url" class="form-control" id="instagram" value="https://instagram.com/molpi">
      </div>
      
      <button type="submit" class="btn btn-primary">Guardar cambios</button>
    </form>
  `;
}
function getClientesHTML() {
  return `
    <h1 class="mb-4">Administrar Clientes / Logos</h1>
    <p class="text-muted">Agreg√° o modific√° los logos de clientes que aparecen en la secci√≥n.</p>
    
    <form class="mb-4">
      <div class="form-group">
        <label for="nuevoLogo">Agregar nuevo logo</label>
        <input type="file" class="form-control-file" id="nuevoLogo" accept="image/*">
      </div>
      <div class="form-group">
        <label for="nombreCliente">Nombre del cliente</label>
        <input type="text" class="form-control" id="nombreCliente" placeholder="Ingrese el nombre del cliente">
      </div>
      <button type="submit" class="btn btn-success">Agregar cliente</button>
    </form>
    
    <h3>Logos existentes</h3>
    <div class="alert alert-info">Arrastre y suelte para reordenar los logos.</div>
    
    <div class="row" id="logosExistentes">
      <div class="col-md-2 mb-3 text-center">
        <img src="img/placeholder-logo.png" class="img-fluid mb-2" alt="Logo Cliente">
        <p>Cliente Ejemplo</p>
        <button class="btn btn-sm btn-danger">Eliminar</button>
      </div>
    </div>
  `;
}

function getUsuariosHTML() {
  return `
    <h1 class="mb-4">Administraci√≥n de Usuarios</h1>
    <p class="text-muted">Gestione los usuarios con acceso al panel administrativo.</p>
    
    <button class="btn btn-success mb-4" data-toggle="modal" data-target="#nuevoUsuarioModal">Agregar nuevo usuario</button>
    
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Usuario</th>
          <th>Email</th>
          <th>Rol</th>
          <th>√öltima actividad</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>admin</td>
          <td>admin@molpi.com.ar</td>
          <td><span class="badge badge-primary">Administrador</span></td>
          <td>Hoy</td>
          <td>
            <button class="btn btn-sm btn-info">Editar</button>
            <button class="btn btn-sm btn-danger">Eliminar</button>
          </td>
        </tr>
        <tr>
          <td>editor</td>
          <td>editor@molpi.com.ar</td>
          <td><span class="badge badge-secondary">Editor</span></td>
          <td>Hace 3 d√≠as</td>
          <td>
            <button class="btn btn-sm btn-info">Editar</button>
            <button class="btn btn-sm btn-danger">Eliminar</button>
          </td>
        </tr>
      </tbody>
    </table>
    
    <!-- Modal para nuevo usuario -->
    <div class="modal fade" id="nuevoUsuarioModal" tabindex="-1" role="dialog" aria-labelledby="nuevoUsuarioModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="nuevoUsuarioModalLabel">Agregar nuevo usuario</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form>
              <div class="form-group">
                <label for="newUsername">Nombre de usuario</label>
                <input type="text" class="form-control" id="newUsername" required>
              </div>
              <div class="form-group">
                <label for="newEmail">Email</label>
                <input type="email" class="form-control" id="newEmail" required>
              </div>
              <div class="form-group">
                <label for="newPassword">Contrase√±a</label>
                <input type="password" class="form-control" id="newPassword" required>
              </div>
              <div class="form-group">
                <label for="newRole">Rol</label>
                <select class="form-control" id="newRole">
                  <option value="admin">Administrador</option>
                  <option value="editor">Editor</option>
                </select>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
            <button type="button" class="btn btn-primary">Guardar usuario</button>
          </div>
        </div>
      </div>
    </div>
  `;
}

function getConfigHTML() {
  return `
    <h1 class="mb-4">Configuraciones Generales</h1>
    <p class="text-muted">Configuraciones generales del sitio web.</p>
    
    <form>
      <h3>Informaci√≥n del sitio</h3>
      <div class="form-group">
        <label for="siteName">Nombre del sitio</label>
        <input type="text" class="form-control" id="siteName" value="Molpi">
      </div>
      <div class="form-group">
        <label for="siteTagline">Eslogan</label>
        <input type="text" class="form-control" id="siteTagline" value="Expertos en moldes para la construcci√≥n">
      </div>
      
      <h3 class="mt-4">Configuraci√≥n de email</h3>
      <div class="form-group">
        <label for="emailContact">Email de contacto (recibe los mensajes del formulario)</label>
        <input type="email" class="form-control" id="emailContact" value="info@molpi.com.ar">
      </div>
      
      <h3 class="mt-4">Personalizaci√≥n</h3>
      <div class="form-group">
        <label for="siteLogo">Logo del sitio</label>
        <input type="file" class="form-control-file" id="siteLogo">
        <small class="text-muted">Logo actual:</small>
        <img src="img/logo.png" alt="Logo actual" style="max-width: 200px; display: block; margin-top: 10px;">
      </div>      
      <button type="submit" class="btn btn-primary">Guardar configuraci√≥n</button>
    </form>
  `;
}
      function getProductosHTML() {
        return `
          <h1 class="mb-4">Gesti√≥n de Productos</h1>
          <form id="productosForm" class="mb-4">
            <div class="form-row">
              <div class="form-group col-md-4">
                <label for="productoSelect">Producto</label>
                <select id="productoSelect" class="form-control">
                  <option selected disabled>Eleg√≠ un producto</option>
                  <option value="general">General</option>
                  <option value="insumos">Insumos</option>
                  <option value="nuevo">‚ûï Agregar un nuevo Producto</option>
                </select>
              </div>
              <div class="form-group col-md-4">
                <label for="categoriaSelect">Categor√≠a</label>
                <select id="categoriaSelect" class="form-control" disabled>
                  <option selected disabled>Eleg√≠ una categor√≠a</option>
                  <option value="Pisos y Z√≥calos">Pisos y Z√≥calos</option>
                  <option value="Podot√°ctiles - Discapacidad">Podot√°ctiles - Discapacidad</option>
                  <option value="Green">Green</option>
                  <option value="Piscinas">Piscinas</option>
                  <option value="Revestimientos">Revestimientos</option>
                  <option value="Placas Antihumedad">Placas Antihumedad</option>
                  <option value="nueva_categoria">‚ûï Agregar Categor√≠a</option>
                </select>
              </div>
              <div class="form-group col-md-4">
                <label for="subcategoriaSelect">Subcategor√≠a</label>
                <select id="subcategoriaSelect" class="form-control" disabled>
                  <option selected disabled>Eleg√≠ una subcategor√≠a</option>
                  <option data-cat="Pisos y Z√≥calos">L√≠nea 20x20</option>
                  <option data-cat="Pisos y Z√≥calos">L√≠nea 40x40</option>
                  <option data-cat="Pisos y Z√≥calos">L√≠nea 50x50</option>
                  <option value="nueva_subcategoria">‚ûï Nueva subcategor√≠a</option>
                </select>
              </div>
            </div>
            <div class="form-group">
              <label for="descripcionProducto">Descripci√≥n</label>
              <textarea id="descripcionProducto" class="form-control" rows="3"></textarea>
            </div>
            <div class="form-group">
              <label for="imagenProducto">Im√°gen para el Banner</label>
              <input type="file" id="imagenProducto" class="form-control-file">
            </div>
            <button type="submit" class="btn btn-success">Guardar</button>
          </form>
          <div id="productosList" class="row"></div>
        `;
      }

      function initProductosScript() {
        const productoSelect = document.getElementById("productoSelect");
        const categoriaSelect = document.getElementById("categoriaSelect");
        const subcategoriaSelect = document.getElementById("subcategoriaSelect");

        const subcategoriasPorCategoria = {
          "Pisos y Z√≥calos": ["L√≠nea 20x20", "L√≠nea 40x40", "L√≠nea 50x50"]
        };

        // Mapa de categor√≠as disponibles por producto
        const categoriasPorProducto = {
          "general": ["Pisos y Z√≥calos", "Podot√°ctiles - Discapacidad", "Green", "Piscinas", "Revestimientos", "Placas Antihumedad"]
          // insumos no tiene categor√≠as predefinidas
        };

        productoSelect.addEventListener("change", () => {
          const val = productoSelect.value;
          categoriaSelect.disabled = false;
          
          // Limpiar categor√≠as existentes
          categoriaSelect.innerHTML = '<option selected disabled>Eleg√≠ una categor√≠a</option>';
          
          // Si es insumos, solo mostrar opci√≥n para crear nueva categor√≠a
          if (val === "insumos") {
            const nuevaOpt = document.createElement("option");
            nuevaOpt.value = "nueva_categoria";
            nuevaOpt.textContent = "‚ûï Agregar una Nueva Categor√≠a";
            categoriaSelect.appendChild(nuevaOpt);
          } 
          // Si es general, mostrar todas las categor√≠as predefinidas
          else if (val === "general") {
            categoriasPorProducto.general.forEach(cat => {
              const opt = document.createElement("option");
              opt.value = cat;
              opt.textContent = cat;
              categoriaSelect.appendChild(opt);
            });
            
            // Agregar opci√≥n para nueva categor√≠a al final
            const nuevaOpt = document.createElement("option");
            nuevaOpt.value = "nueva_categoria";
            nuevaOpt.textContent = "‚ûï Agregar una Nueva Categor√≠a";
            categoriaSelect.appendChild(nuevaOpt);
          }
          // Si es nuevo producto
          else if (val === "nuevo") {
            alert("üÜï Funcionalidad para agregar producto ser√° implementada.");
          }

                // A√±adir evento para los botones del dashboard que apuntan a secciones
      document.addEventListener('click', function(e) {
        if (e.target && e.target.matches('a[data-section]')) {
          const section = e.target.getAttribute('data-section');
          const sidebarLink = document.querySelector(`#adminSidebar a[data-section="${section}"]`);
          if (sidebarLink) {
            sidebarLink.click();
          }
        }
      });
          
          // Resetear subcategor√≠a
          subcategoriaSelect.innerHTML = '<option selected disabled>Eleg√≠ una subcategor√≠a</option>';
          subcategoriaSelect.disabled = true;
        });

        categoriaSelect.addEventListener("change", () => {
          const cat = categoriaSelect.value;
          subcategoriaSelect.innerHTML = '<option selected disabled>Eleg√≠ una subcategor√≠a</option>';

          if (subcategoriasPorCategoria[cat]) {
            subcategoriasPorCategoria[cat].forEach(sc => {
              const opt = document.createElement("option");
              opt.textContent = sc;
              opt.value = sc;
              subcategoriaSelect.appendChild(opt);
            });
          }

          const nuevaOpt = document.createElement("option");
          nuevaOpt.value = "nueva_subcategoria";
          nuevaOpt.textContent = "‚ûï Agregar Nueva Subcategor√≠a";
          subcategoriaSelect.appendChild(nuevaOpt);

          subcategoriaSelect.disabled = false;

          if (cat === "nueva_categoria") {
            alert("‚ö†Ô∏è Funcionalidad para agregar nueva categor√≠a ser√° implementada.");
            // Si se selecciona nueva categor√≠a, desactivar subcategor√≠a temporalmente
            subcategoriaSelect.disabled = true;
          }
        });

        document.getElementById("productosForm").addEventListener("submit", function(e) {
          e.preventDefault();
          alert("‚úÖ Producto guardado correctamente (mock)");
        });
      }

      document.querySelector('#adminSidebar a.active').click();
    });
  </script>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>