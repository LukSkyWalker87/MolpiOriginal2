<!DOCTYPE html>
<html>
	
<!-- Placas Antihumedad Dinámico - Molpi -->
<head>

		<!-- Basic -->
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">	

		<title>Molpi | Moldes para Placas Antihumedad</title>	

		<meta name="keywords" content="Moldes inyectados para mosaicos, Moldes de plastico para revestimientos, Moldes para baldozas, moldes para mosaicos, molduras, mosaicos rusticos, mosaico de adoquines, simil piedra, inyeccion de moldes, moldes, molde, mosaicos, mosaico, moldes autoapilables, moldes autoestibables, mosaicos podotactiles, mosaicos para jardin" />
		<meta name="description" content="Moldes Autoestibables para la fabricación de mosaicos. Moldes inyectados en plástico de alta Resistencia y Durabilidad">
		<meta name="author" content="molpi.com.ar">

		<!-- Favicon -->
		<link rel="shortcut icon" href="{{ url_for(\'static\', filename=\'img/favicon.ico\') }}" type="image/x-icon" />
		<link rel="apple-touch-icon" href="{{ url_for(\'static\', filename=\'img/apple-touch-icon.png\') }}">

		<!-- Mobile Metas -->
		<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<!-- Web Fonts  -->
		<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800%7CShadows+Into+Light" rel="stylesheet" type="text/css">

		<!-- Vendor CSS -->
		<link rel="stylesheet" href="vendor/bootstrap/css/bootstrap.min.css">
		<link rel="stylesheet" href="vendor/font-awesome/css/font-awesome.min.css">
		<link rel="stylesheet" href="vendor/animate/animate.min.css">
		<link rel="stylesheet" href="vendor/simple-line-icons/css/simple-line-icons.min.css">
		<link rel="stylesheet" href="vendor/owl.carousel/assets/owl.carousel.min.css">
		<link rel="stylesheet" href="vendor/owl.carousel/assets/owl.theme.default.min.css">
		<link rel="stylesheet" href="vendor/magnific-popup/magnific-popup.min.css">

		<!-- Theme CSS -->
		<link rel="stylesheet" href="{{ url_for(\'static\', filename=\'css/general.css\') }}">
		<link rel="stylesheet" href="{{ url_for(\'static\', filename=\'css/elementos-generales.css\') }}">
		<link rel="stylesheet" href="vendor/rs-plugin/css/layers.css">
		

		<!-- Current Page CSS -->
		<link rel="stylesheet" href="vendor/rs-plugin/css/settings.css">
		<link rel="stylesheet" href="{{ url_for(\'static\', filename=\'css/particular_productos.css\') }}">
		
		<!-- Skin CSS -->
		<link rel="stylesheet" href="{{ url_for(\'static\', filename=\'css/default.css\') }}">

		<!-- Theme Custom CSS -->
		<link rel="stylesheet" href="{{ url_for(\'static\', filename=\'css/custom.css\') }}">

		<!-- Head Libs -->
		<script src="vendor/modernizr/modernizr.min.js"></script>

	</head>
	<body>

		<div class="body">
			<header id="header" class="header-mobile-nav-only" data-plugin-options="{'stickyEnabled': true, 'stickyEnableOnBoxed': true, 'stickyEnableOnMobile': true, 'stickyStartAt': 90, 'stickySetTop': '-90px', 'stickyChangeLogo': true}">
				<div class="header-body">
					    <div class="header-top header-top-colored header-top-primary">
						<div class="container">
							<p>
								<span class="ml-xs"><i class="fa fa-phone"></i> 11-3556-8417 / 11-2331-5331</span><span class="hidden-xs"> | <a href="#">info@molpi.com.ar</a></span>
							</p>
						</div>
					</div>
					<div class="header-container container">
						<div class="header-row">
							<div class="header-column">
								<div class="header-logo">
									<a href="index.html">
										<img alt="Molpi" width="156" height="182" data-sticky-width="124" data-sticky-height="145" data-sticky-top="47" src="{{ url_for(\'static\', filename=\'img/logo.png\') }}">
									</a>
								</div>
							</div>
							<div class="header-column">
								<div class="header-row">
									<div class="header-nav header-nav-stripe">
										<button class="btn header-btn-collapse-nav" data-toggle="collapse" data-target=".header-nav-main">
											<i class="fa fa-bars"></i>
										</button>
										<div class="header-nav-main header-nav-main-square header-nav-main-effect-1 header-nav-main-sub-effect-1 collapse">
											<nav>
												<ul class="nav nav-pills" id="mainNav">
													<li class="">
														<a href="quienes_somos.html">
															Quiénes somos?
														</a>
													</li>
													<li class="dropdown active">
														<a class="dropdown-toggle" href="#">Productos</a>
														<ul class="dropdown-menu">
															<li class="dropdown-submenu"><a href="#">Pisos y Zócalos</a>
															    <ul class="dropdown-menu">
															         <li class""><a href="linea_moldes_para_pisos_20x20.html">Línea 20x20</a>
															         </li>
															         <li class""><a href="linea_moldes_para_pisos_40x40.html">Línea 40x40</a>
															         </li>
															         <li class""><a href="linea_moldes_para_pisos_50x50.html">Línea 50x50</a>
															         </li>
                                                                </ul>
															</li>
															<li>
																<a href="podotactiles.html">
																	Podotáctiles - Discapacidad
																</a>
															</li>
															<li>
																<a href="green.html">
																	Green
																</a>
															</li>
															<li>
																<a href="piscinas-dinamico.html">
																	Piscinas
																</a>
															</li>
															<li>
																<a href="revestimientos-dinamico.html">
																	Revestimientos
																</a>
															</li>
															<li>
																<a href="placas-antihumedad-dinamico.html">
																	Placas Antihumedad
																</a>
															</li>
															<li>
																<a href="insumos.html">
																	Insumos
																</a>
															</li>
														</ul>
													</li>
													<li class="">
														<a href="contacto.html">
															Contáctenos
														</a>
													</li>
													<li>
														<a href="#loginModal" data-toggle="modal" class="login-button">
														  LOGIN
														</a>
													  </li>	
												</ul>
											</nav>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</header>

			<div role="main" class="main">
				
				<div class="portada-Antihumedad-full">
					<img src="{{ url_for(\'static\', filename=\'img/products/portada-placas-antihumedad.png\') }}" alt="Portada Antihumedad" />
				</div>
				
				<div class="container">
					<div class="row">
						<div class="col-md-12">
							<h2 class="mb-xl mt-xlg"><strong>Placas antihumedad</strong> - Símil Piedras o Tridimensionales.</h2>
						</div>
						    
						<div class="col-md-12">
							<p>Moldes para fabricación de Placas Antihumedad. Protección para paredes con problemas de humedad, evitando la condensación, el salitre, el moho y los malos olores. <br>
							Estas placas también funcionan como aislante acústico y térmico. <br>
							Diseños propios que redecoran y renuevan los ambientes, convirtiéndolos en espacios más limpios y seguros.<br>
							
							<a href="pdf/catalogo_general.pdf" target="blank" class="btn btn-primary custom-btn-style-1 text-uppercase font-weight-semibold pull-right mt-sm">catálogo general</a>
							</p>
                        </div>
                    </div>
                </div>

				<!-- Loading Message -->
				<div class="container">
					<div id="loading-message" class="text-center">
						<div class="row">
							<div class="col-md-12">
								<h3><i class="fa fa-spinner fa-spin"></i> Cargando productos de placas antihumedad...</h3>
							</div>
						</div>
					</div>
					
					<!-- Error Message -->
					<div id="error-message" class="text-center" style="display: none;">
						<div class="row">
							<div class="col-md-12">
								<h3 class="text-danger"><i class="fa fa-exclamation-triangle"></i> Error al cargar los productos</h3>
								<p>No se pudieron cargar los productos de placas antihumedad. Por favor, intente nuevamente.</p>
								<button class="btn btn-primary" onclick="cargarProductosPlacasAntihumedad()">
									<i class="fa fa-refresh"></i> Reintentar
								</button>
							</div>
						</div>
					</div>

					<!-- Products Container -->
					<div id="productos-container"></div>
				</div>

			</div>

			<footer class="short" id="footer">
				<div class="container">
					<div class="row">
						<div class="col-md-6">
							<h5 class="mb-sm">Llámenos</h5>
							<span class="phone">11-3556-8417</span>
							<p class="mb-none">Oficinas y Planta de producción:<br>
							Cafferata 3210 (1852) - Burzaco. <br>
							Parque Industrial de Almirante Brown<br/>
							Provincia de Buenos Aires. Argentina.<br/>
							</p>
							<ul class="list list-icons list-icons-sm">
								<li><i class="fa fa-envelope"></i> <a href="mailto:info@molpi.com.ar">info@molpi.com.ar</a></li>
							</ul>
							<ul class="social-icons">
								<li class="social-icons-facebook"><a href="../www.facebook.com/Molpi-171678872861954/index.html" target="_blank" title="Facebook"><i class="fa fa-facebook"></i></a></li>
								<li class="social-icons-instagram"><a href="../www.instagram.com/molpi.moldes/index.html" target="_blank" title="Instagram"><i class="fa fa-instagram"></i></a></li>
							</ul>
						</div>
						<div class="col-md-6">
							<h5 class="mb-sm">Contáctenos</h5>
							<p>Contáctenos o llámenos para descubrir cómo podemos ayudarle.</p>
							<form id="contact" action="https://www.molpi.com.ar/contacto_rapido.php" method="post">
								<div class="row">
									<div class="form-group">
										<div class="col-md-6">
											<label>Nombre *</label>
										    <input type="text" value="" data-msg-required="Por favor ingrese su nombre." maxlength="100" class="form-control" name="nombre" id="Nombre" tabindex="1" required>
										</div>
										<div class="col-md-6">
											<label>E-mail *</label>
                                            <input type="email" value="" data-msg-required="Por favor, escriba su dirección de mail." data-msg-email="Por favor, ingrese una dirección de e-mail válida." maxlength="100" class="form-control" name="email" id="Email" tabindex="2" required>
										</div>
									</div>
								</div>
								<div class="row">
									<div class="form-group">
										<div class="col-md-12">
											<label>Mensaje *</label>
											<textarea maxlength="5000" data-msg-required="Por favor no olvide dejarnos su mensaje." rows="2" class="form-control" name="mensaje" id="Mensaje" tabindex="3" required></textarea>
										</div>
									</div>
								</div>
								<div class="row">
									<div class="col-md-4">
										<input type="submit" name="submit" id="contact-submit"  value="Enviar Mensaje" class="btn btn-primary btn-lg mb-xlg" data-submit="...Enviar">
									</div>
									
								</div>
							</form>
						</div>
					</div>
				</div>
				<div class="footer-copyright">
					<div class="container">
						<div class="row">
						    <div class="col-md-12">
								<p>© Copyright 2017. Todos los derechos reservados.</p>
							</div>
						</div>
					</div>
				</div>
			</footer>
		</div>

		<!-- Vendor -->
		<script src="vendor/jquery/jquery.min.js"></script>
		<script src="vendor/jquery.appear/jquery.appear.min.js"></script>
		<script src="vendor/jquery.easing/jquery.easing.min.js"></script>
		<script src="vendor/jquery-cookie/jquery-cookie.min.js"></script>
		<script src="vendor/bootstrap/js/bootstrap.min.js"></script>
		<script src="vendor/common/common.min.js"></script>
		<script src="vendor/jquery.validation/jquery.validation.min.js"></script>
		<script src="vendor/jquery.gmap/jquery.gmap.min.js"></script>
		<script src="vendor/owl.carousel/owl.carousel.min.js"></script>
		
		<!-- Theme Base, Components and Settings -->
		<script src="{{ url_for(\'static\', filename=\'js/theme.js\') }}"></script>
		
		<!-- Current Page Vendor and Views -->
		<script src="vendor/rs-plugin/js/jquery.themepunch.tools.min.js"></script>
		<script src="vendor/rs-plugin/js/jquery.themepunch.revolution.min.js"></script>
		
		<!-- Theme Custom -->
		<script src="{{ url_for(\'static\', filename=\'js/custom.js\') }}"></script>
		
		<!-- Theme Initialization Files -->
		<script src="{{ url_for(\'static\', filename=\'js/theme.init.js\') }}"></script>

		<script>
			document.addEventListener('DOMContentLoaded', () => {
			  const loginForm = document.getElementById('loginForm');
			  if (!loginForm) return;
		  
			  loginForm.addEventListener('submit', async function(e) {
				e.preventDefault();
		  
				const username = document.getElementById('username').value;
				const password = document.getElementById('password').value;
		  
				const res = await fetch('/login', {
				  method: 'POST',
				  headers: { 'Content-Type': 'application/json' },
				  body: JSON.stringify({ username, password })
				});
		  
				const data = await res.json();
		  
				if (res.ok) {
				  localStorage.setItem('token', data.token);
				  document.getElementById('loginStatus').innerText = "Login correcto";
				  document.getElementById('loginStatus').style.color = "green";
				} else {
				  document.getElementById('loginStatus').innerText = data.message;
				  document.getElementById('loginStatus').style.color = "red";
				}
			  });
			});
		</script>

		<script>
			// Función para cargar y mostrar los productos de placas antihumedad
			async function cargarProductosPlacasAntihumedad() {
				try {
					console.log('Iniciando carga de productos de placas antihumedad...');
					
					// Mostrar loading y ocultar error
					document.getElementById('loading-message').style.display = 'block';
					document.getElementById('error-message').style.display = 'none';
					document.getElementById('productos-container').innerHTML = '';

					// Realizar petición al API
					const response = await fetch('/productos/placas-antihumedad');
					
					if (!response.ok) {
						throw new Error(`HTTP error! status: ${response.status}`);
					}
					
					const productosPorSubcategoria = await response.json();
					console.log('Datos recibidos:', productosPorSubcategoria);

					// Ocultar loading
					document.getElementById('loading-message').style.display = 'none';

					// Verificar si hay datos
					if (!productosPorSubcategoria || Object.keys(productosPorSubcategoria).length === 0) {
						document.getElementById('error-message').style.display = 'block';
						return;
					}

					// Generar HTML para los productos
					mostrarProductos(productosPorSubcategoria);

				} catch (error) {
					console.error('Error al cargar productos:', error);
					document.getElementById('loading-message').style.display = 'none';
					document.getElementById('error-message').style.display = 'block';
				}
			}

			function mostrarProductos(productosPorSubcategoria) {
				const container = document.getElementById('productos-container');
				let html = '';

				// Ordenar subcategorías para mostrar en orden específico
				const ordenSubcategorias = ['Geometricos', 'Encastrables', 'Tridimensionales', 'Rectangulares', 'Texturas'];
				
				ordenSubcategorias.forEach(subcategoria => {
					if (productosPorSubcategoria[subcategoria] && productosPorSubcategoria[subcategoria].length > 0) {
						const productos = productosPorSubcategoria[subcategoria];
						
						html += `
							<div class="row mb-5">
								<div class="col-md-12">
									<h2 class="mb-4 text-center">${subcategoria}</h2>
									<div class="row">
						`;
						
						productos.forEach((producto, index) => {
							html += `
								<div class="col-md-6 col-lg-6">
									<div class="custom-product-item mb-5">
										<div class="row">
											<div class="col-md-12">
												<h4 class="mb-xl mt-xlg">${producto.nombre}${producto.descripcion ? `.<small> / ${producto.descripcion}</small>` : '.'}</h4>
												<div class="divider divider-primary divider-small mb-xl"> 
													<hr>
												</div>
											</div>
										</div>
										<div class="row">
											<div class="col-md-12 position-relative">
												<div class="custom-product-image-container">
													<img src="${producto.imagen_url}" 
														 data-appear-animation="fadeInLeft" 
														 data-appear-animation-delay="200" 
														 data-plugin-options="{'accY': 10}" 
														 alt="${producto.nombre} molde" 
														 class="custom-product-image-pos-1 _relative img-responsive" />
													
													${producto.imagen_mosaico_url ? `
													<img src="${producto.imagen_mosaico_url}" 
														 data-appear-animation="fadeInLeft" 
														 data-appear-animation-delay="400" 
														 data-plugin-options="{'accY': 10}" 
														 alt="${producto.nombre} mosaico" 
														 class="custom-product-image-pos-5 _absolute img-responsive" />
													` : ''}
												</div>
											</div>
										</div>
										<div class="row mt-3">
											<div class="col-md-12 text-center">
												<div class="pricing-table">
													<h3 class="text-primary">$${producto.precio ? producto.precio.toLocaleString() : 'Consultar'}</h3>
													${producto.precio_usd ? `<p class="text-muted">USD $${producto.precio_usd}</p>` : ''}
												</div>
											</div>
										</div>
									</div>
								</div>
							`;
							
							// Añadir clearfix cada 2 productos para mantener el layout
							if ((index + 1) % 2 === 0) {
								html += '<div class="clearfix"></div>';
							}
						});
						
						html += `
									</div>
								</div>
							</div>
						`;
					}
				});

				container.innerHTML = html;
				
				// Reinicializar animaciones y efectos después de cargar el contenido
				if (window.theme && window.theme.PluginAppear) {
					window.theme.PluginAppear.initialize();
				}
			}

			// Cargar productos cuando se carga la página
			document.addEventListener('DOMContentLoaded', function() {
				cargarProductosPlacasAntihumedad();
			});
		</script>

		<!-- LOGIN MODAL -->
		<div class="modal fade" id="loginModal" tabindex="-1" role="dialog" aria-labelledby="loginModalLabel">
			<div class="modal-dialog" role="document">
			  <div class="modal-content">
				<form method="POST" action="/login">
				  <div class="modal-header">
					<h4 class="modal-title" id="loginModalLabel">Login de Administrador</h4>
					<button type="button" class="close" data-dismiss="modal" aria-label="Cerrar">
					  <span aria-hidden="true">&times;</span>
					</button>
				  </div>
				  <div class="modal-body">
					<div class="form-group">
					  <label for="username">Usuario</label>
					  <input type="text" class="form-control" name="username" required placeholder="Ingresá tu usuario">
					</div>
					<div class="form-group">
					  <label for="password">Contraseña</label>
					  <input type="password" class="form-control" name="password" required placeholder="Ingresá tu contraseña">
					</div>
				  </div>
				  <div class="modal-footer">
					<button type="submit" class="btn btn-primary">Ingresar</button>
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
				  </div>
				</form>
			  </div>
			</div>
		</div>
		<!-- END LOGIN MODAL -->  

		<!-- Botón flotante de WhatsApp -->
		<a href="https://wa.me/541135568417?text=¡Hola!%20¿Todo%20bien%3F%20Te%20quería%20hacer%20una%20consulta%20sobre%20placas%20antihumedad" 
		   class="whatsapp-float" 
		   target="_blank" 
		   title="Chatear por WhatsApp con Molpi">
		  <img src="https://icongr.am/fontawesome/whatsapp.svg?size=40&color=ffffff" alt="WhatsApp">
		</a>

	</body>

</html>
